---
name: rule-sync
description: í”Œë«í¼ ê·œì¹™ ì–‘ë°©í–¥ ë™ê¸°í™”
args: "<platform> [--push | --pull | --diff] [--dry-run] [--force]"
examples:
  - "/rule-sync cursor"
  - "/rule-sync cursor --push"
  - "/rule-sync cursor --pull"
  - "/rule-sync cursor --diff"
  - "/rule-sync all"
  - "/rule-sync cursor --dry-run"
---

# /rule-sync - í”Œë«í¼ ê·œì¹™ ë™ê¸°í™”

ê·œì¹™ì„ ë‹¤ì–‘í•œ í”Œë«í¼ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë™ê¸°í™”í•©ë‹ˆë‹¤.

## ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—°ë™

```typescript
import { RulebookManager, SyncManager, getAdapter, getAvailableAdapters } from './lib';
import { formatSyncDiff, formatConflicts } from './lib/sync-manager';

const manager = new RulebookManager(workspacePath);
const syncManager = new SyncManager(workspacePath);
const rules = await manager.loadRulesForPath(workspacePath);
```

## ì§€ì› í”Œë«í¼

| í”Œë«í¼ | ì¶œë ¥ íŒŒì¼ | ì„¤ëª… |
|--------|-----------|------|
| `cursor` | `.cursorrules` | Cursor IDE ê·œì¹™ |
| `claude` | `.claude/rules/` | Claude Code ê·œì¹™ |
| `all` | ëª¨ë“  í”Œë«í¼ | ì „ì²´ ë™ê¸°í™” |

## ì‚¬ìš©ë²•

### 1. Cursor ë™ê¸°í™”

```
/rule-sync cursor
```

**ì¶œë ¥:**

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”„ Cursor ë™ê¸°í™”
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… ë™ê¸°í™” ì™„ë£Œ!

  í”Œë«í¼: cursor
  ê·œì¹™ ìˆ˜: 3ê°œ
  ì¶œë ¥ íŒŒì¼: .cursorrules

í¬í•¨ëœ ê·œì¹™:
  - style-001: ì½”ë“œ í¬ë§·íŒ… ê·œì¹™
  - naming-001: ë³€ìˆ˜ëª… ê·œì¹™
  - git-001: ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™
```

### 2. Claude ë™ê¸°í™”

```
/rule-sync claude
```

**ì¶œë ¥:**

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”„ Claude ë™ê¸°í™”
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… ë™ê¸°í™” ì™„ë£Œ!

  í”Œë«í¼: claude
  ê·œì¹™ ìˆ˜: 3ê°œ
  ì¶œë ¥ ë””ë ‰í† ë¦¬: .claude/rules/

ìƒì„±ëœ íŒŒì¼:
  - .claude/rules/_index.md
  - .claude/rules/code.mdc
  - .claude/rules/workflow.mdc
```

### 3. ì „ì²´ ë™ê¸°í™”

```
/rule-sync all
```

ëª¨ë“  í™œì„±í™”ëœ í”Œë«í¼ì— ë™ê¸°í™”í•©ë‹ˆë‹¤.

### 4. Dry Run

```
/rule-sync cursor --dry-run
```

ì‹¤ì œ íŒŒì¼ì„ ìƒì„±í•˜ì§€ ì•Šê³  ë³€í™˜ ê²°ê³¼ë§Œ ë¯¸ë¦¬ë´…ë‹ˆë‹¤.

**ì¶œë ¥:**

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” Dry Run: Cursor
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ì¶œë ¥ ì˜ˆì • íŒŒì¼: .cursorrules
ê·œì¹™ ìˆ˜: 3ê°œ

ë¯¸ë¦¬ë³´ê¸° (ì²˜ìŒ 50ì¤„):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Project Rules

> Auto-generated by Monol Rulebook
> Last updated: 2025-01-18T00:00:00Z

## Overview

Total rules: 3
...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ Dry run ëª¨ë“œì…ë‹ˆë‹¤. íŒŒì¼ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
   ì‹¤ì œ ë™ê¸°í™”: /rule-sync cursor
```

### 5. ê°•ì œ ë®ì–´ì“°ê¸°

```
/rule-sync cursor --force
```

ê¸°ì¡´ íŒŒì¼ì„ í™•ì¸ ì—†ì´ ë®ì–´ì”ë‹ˆë‹¤.

### 6. í”Œë«í¼ì—ì„œ ê·œì¹™ ê°€ì ¸ì˜¤ê¸° (Pull)

```
/rule-sync cursor --pull
```

í”Œë«í¼ íŒŒì¼ì—ì„œ ê·œì¹™ì„ íŒŒì‹±í•˜ì—¬ ë¡œì»¬ rules/ì— ê°€ì ¸ì˜µë‹ˆë‹¤.

**ì¶œë ¥:**

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“¥ Cursorì—ì„œ ê·œì¹™ ê°€ì ¸ì˜¤ê¸°
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ!

  í”Œë«í¼: cursor
  ê°€ì ¸ì˜¨ ê·œì¹™: 5ê°œ
  ìƒˆ ê·œì¹™: 2ê°œ
  ì—…ë°ì´íŠ¸ëœ ê·œì¹™: 0ê°œ

ìƒˆë¡œ ì¶”ê°€ëœ ê·œì¹™:
  + imported-001: API ì—”ë“œí¬ì¸íŠ¸ ê·œì¹™
  + imported-002: ì—ëŸ¬ ì²˜ë¦¬ ê·œì¹™

ì €ì¥ ìœ„ì¹˜: rules/imported/
```

### 7. ì°¨ì´ì  ë¹„êµ (Diff)

```
/rule-sync cursor --diff
```

ë¡œì»¬ ê·œì¹™ê³¼ í”Œë«í¼ íŒŒì¼ ê°„ì˜ ì°¨ì´ì ì„ ë¹„êµí•©ë‹ˆë‹¤.

**ì¶œë ¥:**

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” Cursorì™€ ë¹„êµ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

í”Œë«í¼: cursor

ğŸ“¤ ë¡œì»¬ì—ë§Œ ìˆëŠ” ê·œì¹™ (2ê°œ):
  + git-001
  + style-002

ğŸ“¥ í”Œë«í¼ì—ë§Œ ìˆëŠ” ê·œì¹™ (1ê°œ):
  - imported-api-rules

ğŸ”„ ë‚´ìš©ì´ ë‹¤ë¥¸ ê·œì¹™ (1ê°œ):
  ~ naming-001
    description: ë³€ê²½ë¨
    tags: ë³€ê²½ë¨

âœ… ë™ì¼í•œ ê·œì¹™ (3ê°œ)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ ë™ê¸°í™”: /rule-sync cursor --push
ğŸ’¡ ê°€ì ¸ì˜¤ê¸°: /rule-sync cursor --pull
```

### 8. ì–‘ë°©í–¥ ë™ê¸°í™”

```
/rule-sync cursor --both
```

Pushì™€ Pullì„ ëª¨ë‘ ìˆ˜í–‰í•˜ê³ , ì¶©ëŒì´ ìˆìœ¼ë©´ í•´ê²°ì„ ìš”ì²­í•©ë‹ˆë‹¤.

**ì¶©ëŒ ë°œìƒ ì‹œ:**

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ ì¶©ëŒ ë°œê²¬ (2ê°œ)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

naming-001:
  description:
    ë¡œì»¬: "ë³€ìˆ˜ëª…ì€ camelCaseë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤"
    ì›ê²©: "ë³€ìˆ˜ëª…, í•¨ìˆ˜ëª…ì— ëŒ€í•œ ë„¤ì´ë° ê·œì¹™"

  tags:
    ë¡œì»¬: ["naming", "variables"]
    ì›ê²©: ["naming", "variables", "functions"]

ì–´ë–»ê²Œ í•´ê²°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
  [1] ë¡œì»¬ ìš°ì„  (ë‚´ ë³€ê²½ì‚¬í•­ ìœ ì§€)
  [2] ì›ê²© ìš°ì„  (í”Œë«í¼ ë³€ê²½ì‚¬í•­ ì ìš©)
  [3] ìˆ˜ë™ ë³‘í•© (ì¶©ëŒ ë¶€ë¶„ë§Œ ì„ íƒ)
  [4] ê±´ë„ˆë›°ê¸°
```

## ì˜µì…˜

| ì˜µì…˜ | ì„¤ëª… |
|------|------|
| `--push` | ë¡œì»¬ â†’ í”Œë«í¼ (ê¸°ë³¸ê°’) |
| `--pull` | í”Œë«í¼ â†’ ë¡œì»¬ |
| `--diff` | ì°¨ì´ì ë§Œ ë¹„êµ |
| `--both` | ì–‘ë°©í–¥ ë™ê¸°í™” |
| `--dry-run`, `-n` | ì‹¤ì œ ë³€ê²½ ì—†ì´ ë¯¸ë¦¬ë³´ê¸° |
| `--force`, `-f` | í™•ì¸ ì—†ì´ ë®ì–´ì“°ê¸° |
| `--verbose`, `-v` | ìƒì„¸ ì¶œë ¥ |

## êµ¬í˜„ ë¡œì§

```typescript
async function executeRuleSync(args: string) {
  const { platform, dryRun, force } = parseArgs(args);

  const manager = new RulebookManager(workspacePath);
  const loaded = await manager.loadRulesForPath(workspacePath);

  const platforms = platform === 'all'
    ? getAvailableAdapters()
    : [platform];

  for (const p of platforms) {
    const adapter = getAdapter(p, workspacePath);
    if (!adapter) {
      console.log(`âš ï¸ Unknown platform: ${p}`);
      continue;
    }

    if (dryRun) {
      const content = adapter.format(loaded.rules);
      console.log('Preview:');
      console.log(content.slice(0, 2000));
      continue;
    }

    // ê¸°ì¡´ íŒŒì¼ í™•ì¸
    if (!force) {
      const existing = await adapter.read();
      if (existing) {
        const confirmed = await confirmOverwrite(p);
        if (!confirmed) continue;
      }
    }

    const result = await adapter.sync(loaded.rules);
    if (result.success) {
      console.log(`âœ… ${p} ë™ê¸°í™” ì™„ë£Œ: ${result.outputPath}`);
    } else {
      console.log(`âŒ ${p} ë™ê¸°í™” ì‹¤íŒ¨: ${result.error}`);
    }
  }
}
```

## í”Œë«í¼ë³„ ì„¤ì •

`.rulebook-config.yaml`ì—ì„œ í”Œë«í¼ ì„¤ì •:

```yaml
platforms:
  cursor:
    enabled: true
    outputFile: .cursorrules
    format: markdown

  claude:
    enabled: true
    outputDir: .claude/rules
    format: mdc
    splitByCategory: true
```

## ê·œì¹™ë³„ í”Œë«í¼ ì„¤ì •

ê° ê·œì¹™ì—ì„œ í”Œë«í¼ë³„ í™œì„±í™” ì„¤ì •:

```yaml
# rules/code/style.yaml
id: style-001
name: ì½”ë“œ í¬ë§·íŒ… ê·œì¹™
# ...

platforms:
  cursor:
    enabled: true
    includeInRules: true
  claude:
    enabled: true
    ruleFile: code-style.mdc
```

## ë™ê¸°í™” í›„ ë™ì‘

ë™ê¸°í™” í›„ ìë™ìœ¼ë¡œ:
1. Git ìƒíƒœ í™•ì¸ (ë³€ê²½ íŒŒì¼ í‘œì‹œ)
2. ì»¤ë°‹ ì œì•ˆ (`/commit` ì‚¬ìš© ê°€ëŠ¥)

```
âœ… ë™ê¸°í™” ì™„ë£Œ!

ğŸ“ ë³€ê²½ëœ íŒŒì¼:
  M .cursorrules
  A .claude/rules/code.mdc

ğŸ’¡ ì»¤ë°‹í•˜ë ¤ë©´: /commit -m "chore: sync rulebook"
```

## ê´€ë ¨ ì»¤ë§¨ë“œ

- `/rule` - ê·œì¹™ ì¡°íšŒ
- `/rule-add` - ê·œì¹™ ì¶”ê°€
- `/rule-search` - ê·œì¹™ ê²€ìƒ‰
